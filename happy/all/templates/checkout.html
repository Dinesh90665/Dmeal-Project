{% load static %}
{% load custom_filters %}

<!DOCTYPE html>
<html lang="en">
<head>
  <title>Checkout Summary</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #f4f4f4; }
    .summary { background: white; padding: 20px; max-width: 600px; margin: auto; box-shadow: 0 0 5px rgba(0,0,0,0.2); }
    .form-group { margin-bottom: 15px; }
    label { font-weight: bold; }
    input, textarea { width: 100%; padding: 8px; }
    .cart-item { margin: 10px 0; }
  </style>
</head>
<body>
  <div class="summary">
    <h2>Checkout Summary</h2>
    <form method="post" action="{% url 'checkout' %}">
      {% csrf_token %}
      <div class="form-group">
        <label>Your Name</label>
        <input type="text" name="name" required>
      </div>
      <div class="form-group">
        <label>Phone</label>
        <input type="text" name="phone" value="{{ user.phone }}" readonly>
      </div>
      <div class="form-group">
        <label>Delivery Address</label>
        <textarea name="address" required></textarea>
      </div>

      <h3>Cart Summary:</h3>
      {% for item in cart %}
        <div class="cart-item">
          <p>{{ item.name }} (x{{ item.quantity }}) - Rs. {{ item.price|multiply:item.quantity }}</p>
        </div>
      {% endfor %}

      <h4>Total: Rs. {{ total }}</h4>

      <button type="submit">Place Order</button>
    </form>
  </div>
</body>
</html>
